import"../chunks/Bzak7iHL.js";import{i as Me}from"../chunks/c8XV9bct.js";import{t as S,h as rt,a as st,ad as xt,av as yt,G as ot,C as bt,D as wt,aw as kt,ax as $t,ay as nt,F as Ct,az as Dt,B as He,p as Te,J as A,M as Ae,m as f,n as te,N as qe,o as c,s as Ne,j as d,v as r,x as l,K as p,L as N,w as a,i as e,u as s,y as D,R as $e,O as Le,T as Et,U as Mt,at as Tt,aA as At,e as Nt,$ as it}from"../chunks/DqPoIbAy.js";import{p as W,i as b,a as mt,s as Ce}from"../chunks/Ce2Bo9mn.js";import{k as he,f as Ge,q as St,s as xe,r as jt,u as It,v as Lt,w as Rt,m as De,C as ie,e as Re,o as Ee,i as Fe,x as lt,p as dt,y as zt,j as Bt,z as vt,A as Pt,B as Ot}from"../chunks/BI9K9DKX.js";import{E as et,h as qt,L as Ft}from"../chunks/pK0dPUpv.js";import{p as gt,s as Vt}from"../chunks/DM995QLT.js";import{a as Ht,g as Ue}from"../chunks/CDYpof1l.js";function ze($,u,_=!1,i=!1,h=!1){var m=$,y="";S(()=>{var M=xt;if(y===(y=u()??"")){rt&&st();return}if(M.nodes!==null&&(yt(M.nodes.start,M.nodes.end),M.nodes=null),y!==""){if(rt){ot.data;for(var v=st(),t=v;v!==null&&(v.nodeType!==bt||v.data!=="");)t=v,v=wt(v);if(v===null)throw kt(),$t;nt(ot,t),m=Ct(v);return}var w=y+"";_?w=`<svg>${w}</svg>`:i&&(w=`<math>${w}</math>`);var T=Dt(w);if((_||i)&&(T=He(T)),nt(He(T),T.lastChild),_||i)for(;He(T);)m.before(He(T));else m.before(T)}})}var Ut=f('<span class="ml-2 text-xs bg-trend-red text-white px-2 py-0.5 rounded-full">Latest</span>'),Wt=f('<div class="text-sm text-trend-gray-500 dark:text-trend-gray-400 mt-1"> </div>'),Gt=f('<div class="text-center mt-2"><button class="text-sm text-trend-red hover:text-guardian-red transition-colors">Jump to latest &rarr;</button></div>'),Jt=f('<div class="flex items-center justify-between gap-4"><button aria-label="Previous day"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path></svg></button> <div class="text-center flex-1"><div><span class="font-medium text-trend-gray-800 dark:text-trend-gray-200"> </span> <!></div> <!></div> <button aria-label="Next day"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg></button></div> <!>',1);function Kt($,u){Te(u,!1);const _=()=>Ce(Ge,"$currentDate",m),i=()=>Ce(St,"$navigation",m),h=()=>Ce(gt,"$page",m),[m,y]=mt(),M=N(),v=N(),t=N(),w=N();let T=W(u,"coverageDate",8,void 0);A(()=>(_(),he),()=>{p(M,_()?he(_(),"EEEE, MMMM d, yyyy"):"")}),A(()=>(d(T()),he),()=>{p(v,T()?he(T(),"EEEE, MMMM d, yyyy"):"")}),A(()=>i(),()=>{p(t,!i().hasNext)}),A(()=>h(),()=>{p(w,h().url.searchParams.get("category"))}),Ae(),Me();var V=Jt(),g=te(V),o=r(g),n=l(o,2),j=r(n),I=r(j),L=r(I,!0);a(I);var R=l(I,2);{var Y=q=>{var K=Ut();c(q,K)};b(R,q=>{e(t)&&q(Y)})}a(j);var P=l(j,2);{var Q=q=>{var K=Wt(),le=r(K);a(K),S(()=>D(le,`Coverage: ${e(v)??""}, 00:00–23:59 ET`)),c(q,K)};b(P,q=>{e(v)&&q(Q)})}a(n);var E=l(n,2);a(g);var O=l(g,2);{var ae=q=>{var K=Gt(),le=r(K);a(K),qe("click",le,()=>Lt(e(w)||void 0)),c(q,K)};b(O,q=>{e(t)||q(ae)})}S(()=>{o.disabled=(i(),s(()=>!i().hasPrevious)),xe(o,1,`p-2 rounded-lg transition-colors
		       ${i(),s(()=>i().hasPrevious?"hover:bg-trend-gray-200 dark:hover:bg-trend-gray-700 text-trend-gray-700 dark:text-trend-gray-300":"text-trend-gray-400 cursor-not-allowed")??""}`),D(L,e(M)),E.disabled=(i(),s(()=>!i().hasNext)),xe(E,1,`p-2 rounded-lg transition-colors
		       ${i(),s(()=>i().hasNext?"hover:bg-trend-gray-200 dark:hover:bg-trend-gray-700 text-trend-gray-700 dark:text-trend-gray-300":"text-trend-gray-400 cursor-not-allowed")??""}`)}),qe("click",o,()=>jt(e(w)||void 0)),qe("click",E,()=>It(e(w)||void 0)),c($,V),Ne(),y()}var Yt=f('<img alt="Daily AI scene featuring AATF mascot" class="hero-image svelte-v054qa"/>'),Qt=f('<div class="hero-fallback bg-gradient-to-br from-trend-gray-700 to-trend-gray-900 flex items-center justify-center svelte-v054qa"><img src="./assets/logo.webp" alt="AATF Logo" class="w-24 h-24 opacity-40"/></div>'),Xt=f('<span class="mx-2">•</span> ',1),Zt=f('<p class="hero-meta svelte-v054qa"> <!></p>'),ea=f('<div class="flex items-center gap-2 text-sm text-white/80"><span></span> <span class="capitalize"> </span></div>'),ta=f('<section class="hero-section mb-8 svelte-v054qa"><!> <div class="hero-overlay svelte-v054qa"><div class="flex items-end justify-between"><div><h2 class="hero-date svelte-v054qa"> </h2> <!></div> <!></div></div></section>');function aa($,u){Te(u,!1);const _=N(),i=N(),h=N();let m=W(u,"date",8),y=W(u,"coverageDate",8,void 0),M=W(u,"totalItems",8,0),v=W(u,"heroImageUrl",8,null),t=W(u,"collectionStatus",8,"success");A(()=>(d(m()),he),()=>{p(_,m()?`${Rt(m())}, ${he(m())}`:"")}),A(()=>(d(y()),he),()=>{p(i,y()?he(y()):"")}),A(()=>d(t()),()=>{p(h,t()==="success"?"bg-green-500":t()==="partial"?"bg-yellow-500":"bg-red-500")}),Ae(),Me();var w=ta(),T=r(w);{var V=E=>{var O=Yt();S(()=>De(O,"src",v())),c(E,O)},g=E=>{var O=Qt();c(E,O)};b(T,E=>{v()?E(V):E(g,!1)})}var o=l(T,2),n=r(o),j=r(n),I=r(j),L=r(I,!0);a(I);var R=l(I,2);{var Y=E=>{var O=Zt(),ae=r(O),q=l(ae);{var K=le=>{var Se=Xt(),je=l(te(Se));S(C=>D(je,` ${C??""} items analyzed`),[()=>(d(M()),s(()=>M().toLocaleString()))]),c(le,Se)};b(q,le=>{M()>0&&le(K)})}a(O),S(()=>D(ae,`Coverage: ${e(i)??""} `)),c(E,O)};b(R,E=>{e(i)&&E(Y)})}a(j);var P=l(j,2);{var Q=E=>{var O=ea(),ae=r(O),q=l(ae,2),K=r(q,!0);a(q),a(O),S(()=>{xe(ae,1,`w-2 h-2 rounded-full ${e(h)}`,"svelte-v054qa"),D(K,t())}),c(E,O)};b(P,E=>{t()!=="success"&&E(Q)})}a(n),a(o),a(w),S(()=>D(L,e(_))),c($,w),Ne()}var ra=f('<div class="text-trend-gray-700 dark:text-trend-gray-300 leading-relaxed mb-4 prose prose-sm dark:prose-invert max-w-none"><!></div>'),sa=f('<p class="text-trend-gray-700 dark:text-trend-gray-300 leading-relaxed mb-4"> </p>'),oa=f('<span class="inline-flex items-center gap-1.5 text-xs px-2 py-1 rounded-full"><span class="w-2 h-2 rounded-full"></span> </span>'),na=f('<div class="flex flex-wrap items-center gap-2"></div>'),ia=f('<div class="mt-3 pt-3 border-t border-trend-gray-100 dark:border-trend-gray-700"><div class="flex items-center gap-2"><div class="flex-1 h-1.5 bg-trend-gray-100 dark:bg-trend-gray-700 rounded-full overflow-hidden"><div class="h-full bg-trend-red rounded-full transition-all"></div></div> <span class="text-xs text-trend-gray-500 font-medium"> </span></div></div>'),la=f('<div class="card"><h3 class="font-semibold text-lg text-trend-gray-800 dark:text-trend-gray-100 mb-2"> </h3> <!> <!> <!></div>');function da($,u){Te(u,!1);const _=N();let i=W(u,"topic",8);A(()=>(d(i()),ie),()=>{p(_,Object.entries(i().category_breakdown||{}).filter(([o,n])=>n>0).map(([o,n])=>[o,n]).filter(([o])=>ie[o]!==void 0))}),Ae(),Me();var h=la(),m=r(h),y=r(m,!0);a(m);var M=l(m,2);{var v=o=>{var n=ra(),j=r(n);ze(j,()=>(d(i()),s(()=>i().description_html))),a(n),c(o,n)},t=o=>{var n=$e(),j=te(n);{var I=L=>{var R=sa(),Y=r(R,!0);a(R),S(()=>D(Y,(d(i()),s(()=>i().description)))),c(L,R)};b(j,L=>{d(i()),s(()=>i().description)&&L(I)},!0)}c(o,n)};b(M,o=>{d(i()),s(()=>i().description_html)?o(v):o(t,!1)})}var w=l(M,2);{var T=o=>{var n=na();Re(n,5,()=>e(_),Fe,(j,I)=>{var L=Et(()=>Mt(e(I),2));let R=()=>e(L)[0],Y=()=>e(L)[1];const P=Le(()=>(d(ie),R(),s(()=>ie[R()])));var Q=oa(),E=r(Q),O=l(E);a(Q),S(ae=>{Ee(Q,`background-color: ${d(e(P)),s(()=>e(P).color)??""}20; color: ${d(e(P)),s(()=>e(P).color)??""}`),Ee(E,`background-color: ${d(e(P)),s(()=>e(P).color)??""}`),D(O,` ${Y()??""} ${ae??""}`)},[()=>(d(e(P)),s(()=>e(P).title.toLowerCase()))]),c(j,Q)}),a(n),c(o,n)};b(w,o=>{e(_),s(()=>e(_).length>0)&&o(T)})}var V=l(w,2);{var g=o=>{var n=ia(),j=r(n),I=r(j),L=r(I);a(I);var R=l(I,2),Y=r(R);a(R),a(j),a(n),S(P=>{Ee(L,`width: ${d(i()),s(()=>i().importance)??""}%`),D(Y,`${P??""}%`)},[()=>(d(i()),s(()=>Math.round(i().importance)))]),c(o,n)};b(V,o=>{d(i()),s(()=>i().importance)&&o(g)})}a(h),S(()=>D(y,(d(i()),s(()=>i().name)))),c($,h),Ne()}function We($){if(!$)return"";$=$.replace(new RegExp("(?<!\\]\\()(?<!\\()(https?:\\/\\/[^\\s<>\\[\\]()]+)","g"),h=>`<a href="${h}" target="_blank" rel="noopener noreferrer">${va(h)}</a>`),$=$.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(h,m,y)=>y.startsWith("/")||y.startsWith("#")?`<a href="${y}" class="internal-link">${m}</a>`:`<a href="${y}" target="_blank" rel="noopener noreferrer">${m}</a>`),$=$.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),$=$.replace(/^####\s+(.+)$/gm,"<h4>$1</h4>");const u=$.split(`
`);let _=!1;const i=[];for(const h of u){const m=h.trim();if(m.startsWith("- ")){_||(i.push("<ul>"),_=!0);const y=m.slice(2);i.push(`<li>${y}</li>`)}else _&&(i.push("</ul>"),_=!1),m&&(m.startsWith("<h4>")||m.startsWith("<ul>"),i.push(m))}return _&&i.push("</ul>"),i.join(`
`)}function va($){try{const u=new URL($),_=u.pathname+u.search;return _.length>40?u.hostname+_.slice(0,30)+"...":u.hostname+_}catch{return $.length>50?$.slice(0,47)+"...":$}}var ca=f("<span> </span>");function ma($,u){Te(u,!1);const _=N();let i=W(u,"category",8),h=W(u,"class",8,"");A(()=>d(i()),()=>{p(_,ie[i()])}),Ae(),Me();var m=ca(),y=r(m,!0);a(m),S(()=>{xe(m,1,`badge ${e(_),s(()=>e(_).badgeClass)??""} ${h()??""}`),D(y,(e(_),s(()=>e(_).title)))}),c($,m),Ne()}var ga=f("<span>&middot;</span> <span> </span>",1),ua=f("<span>&middot;</span> <span> </span>",1),fa=f('<div class="mb-3 pl-3 border-l-2 border-trend-red/30"><div class="flex items-center gap-1.5 text-xs font-bold text-trend-gray-500 dark:text-trend-gray-400 mb-1"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg> <span>AI Analysis</span></div> <div class="text-trend-gray-700 dark:text-trend-gray-300 leading-relaxed font-bold prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-a:text-trend-red prose-a:no-underline hover:prose-a:underline"><!></div></div>'),_a=f('<button class="text-trend-red hover:text-guardian-red mt-2 font-medium"> </button>'),pa=f('<div class="text-sm text-trend-gray-600 dark:text-trend-gray-400 mb-3"><div><!></div> <!></div>'),ha=f('<span class="text-xs px-2 py-1 rounded-full bg-trend-gray-100 dark:bg-trend-gray-700 text-trend-gray-600 dark:text-trend-gray-400"> </span>'),xa=f('<div class="flex flex-wrap gap-2 mb-3"></div>'),ya=f('<article style="scroll-margin-top: 5rem;"><div class="flex items-start justify-between gap-4 mb-3"><div class="flex-1 min-w-0"><!> <h3 class="font-semibold text-trend-gray-800 dark:text-trend-gray-100 leading-snug"><a target="_blank" rel="noopener noreferrer" class="hover:text-trend-red transition-colors"> </a></h3></div> <div> </div></div> <div class="flex flex-wrap items-center gap-2 text-sm text-trend-gray-500 dark:text-trend-gray-400 mb-3"><span> </span> <!> <!></div> <!> <!> <!> <div class="flex items-center gap-3 pt-3 border-t border-trend-gray-100 dark:border-trend-gray-700"><a target="_blank" rel="noopener noreferrer" class="text-sm font-medium text-trend-red hover:text-guardian-red transition-colors"> </a></div></article>');function ba($,u){Te(u,!1);const _=N(),i=N(),h=N(),m=N(),y=N(),M=N(),v=N();let t=W(u,"item",8),w=W(u,"category",8),T=W(u,"showCategory",8,!1),V=N(!1);A(()=>d(w()),()=>{p(_,ie[w()])}),A(()=>d(t()),()=>{p(i,t().content&&t().content.length>0)}),A(()=>d(t()),()=>{var x;p(h,(x=t().content)==null?void 0:x.slice(0,300))}),A(()=>d(t()),()=>{var x;p(m,((x=t().content)==null?void 0:x.length)>300)}),A(()=>(d(t()),We),()=>{p(y,t().summary_html||We(t().summary||""))}),A(()=>(d(t()),We),()=>{p(M,t().content_html||We(t().content||""))}),A(()=>d(t()),()=>{p(v,t().importance_score>=80?"card-importance-high":t().importance_score>=60?"card-importance-medium":t().importance_score>=40?"card-importance-standard":"card-importance-low")}),Ae(),Me();var g=ya(),o=r(g),n=r(o),j=r(n);{var I=x=>{ma(x,{get category(){return w()},class:"mb-2"})};b(j,x=>{T()&&x(I)})}var L=l(j,2),R=r(L),Y=r(R,!0);a(R),a(L),a(n);var P=l(n,2),Q=r(P,!0);a(P),a(o);var E=l(o,2),O=r(E),ae=r(O,!0);a(O);var q=l(O,2);{var K=x=>{var F=ga(),B=l(te(F),2),Z=r(B,!0);a(B),S(()=>D(Z,(d(t()),s(()=>t().author)))),c(x,F)};b(q,x=>{d(t()),s(()=>t().author)&&x(K)})}var le=l(q,2);{var Se=x=>{var F=ua(),B=l(te(F),2),Z=r(B,!0);a(B),S(se=>D(Z,se),[()=>(d(lt),d(t()),s(()=>lt(t().published)))]),c(x,F)};b(le,x=>{d(t()),s(()=>t().published)&&x(Se)})}a(E);var je=l(E,2);{var C=x=>{var F=fa(),B=l(r(F),2),Z=r(B);ze(Z,()=>e(y)),a(B),a(F),c(x,F)};b(je,x=>{d(t()),s(()=>t().summary)&&x(C)})}var k=l(je,2);{var U=x=>{var F=pa(),B=r(F);let Z;var se=r(B);ze(se,()=>e(M)),a(B);var ye=l(B,2);{var Pe=oe=>{var ge=_a(),ee=r(ge,!0);a(ge),S(()=>D(ee,e(V)?"Show less":"Read more")),qe("click",ge,()=>p(V,!e(V))),c(oe,ge)};b(ye,oe=>{e(m)&&oe(Pe)})}a(F),S(()=>Z=xe(B,1,"prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-a:text-trend-red prose-a:no-underline hover:prose-a:underline",null,Z,{"line-clamp-3":!e(V)&&e(m)})),c(x,F)};b(k,x=>{e(i)&&x(U)})}var re=l(k,2);{var me=x=>{var F=xa();Re(F,5,()=>(d(t()),s(()=>t().themes)),Fe,(B,Z)=>{var se=ha(),ye=r(se,!0);a(se),S(()=>D(ye,e(Z))),c(B,se)}),a(F),c(x,F)};b(re,x=>{d(t()),s(()=>t().themes&&t().themes.length>0)&&x(me)})}var X=l(re,2),fe=r(X),Be=r(fe);a(fe),a(X),a(g),S(x=>{De(g,"id",`item-${d(t()),s(()=>t().id)??""}`),xe(g,1,`card ${e(v)??""}`),De(R,"href",(d(t()),s(()=>t().url))),D(Y,(d(t()),s(()=>t().title))),xe(P,1,`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center text-sm font-bold
			       ${d(t()),s(()=>t().importance_score>=80?"bg-trend-red/10 text-trend-red":t().importance_score>=60?"bg-category-social/10 text-category-social":"bg-trend-gray-100 dark:bg-trend-gray-700 text-trend-gray-600 dark:text-trend-gray-400")??""}`),De(P,"title",`Importance score: ${d(t()),s(()=>t().importance_score)??""}`),D(Q,x),D(ae,(d(t()),s(()=>t().source))),De(fe,"href",(d(t()),s(()=>t().url))),D(Be,`${w()==="research"?"View Research":w()==="reddit"?"View Discussion":"Read More"} →`)},[()=>(d(t()),s(()=>Math.round(t().importance_score)))]),c($,g),Ne()}var wa=f('<span class="text-sm text-trend-gray-500"> </span>'),ka=f('<div class="mt-6 text-center"><!></div>'),$a=f('<div class="space-y-4"></div> <!>',1);function ct($,u){Te(u,!1);const _=N(),i=N();let h=W(u,"items",8),m=W(u,"category",8),y=W(u,"showCategory",8,!1),M=W(u,"limit",8,null),v=W(u,"totalCount",8,null);A(()=>(d(M()),d(h())),()=>{p(_,M()?h().slice(0,M()):h())}),A(()=>(d(M()),d(h())),()=>{p(i,M()&&h().length>M())}),Ae(),Me();var t=$e(),w=te(t);{var T=g=>{et(g,{title:"No items found",message:"There are no items in this category for the selected date."})},V=g=>{var o=$a(),n=te(o);Re(n,5,()=>e(_),L=>L.id,(L,R)=>{ba(L,{get item(){return e(R)},get category(){return m()},get showCategory(){return y()}})}),a(n);var j=l(n,2);{var I=L=>{var R=ka(),Y=r(R);Vt(Y,u,"view-all",{},P=>{var Q=wa(),E=r(Q);a(Q),S(()=>D(E,`Showing top ${M()??""} of ${d(v()),d(h()),s(()=>v()??h().length)??""} items`)),c(P,Q)}),a(R),c(L,R)};b(j,L=>{e(i)&&L(I)})}c(g,o)};b(w,g=>{d(h()),s(()=>h().length===0)?g(T):g(V,!1)})}c($,t),Ne()}var Ca=f('<button class="btn-primary">Try Again</button>'),Da=f('<div class="text-center py-12"><svg class="w-16 h-16 mx-auto text-trend-red mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <h3 class="text-lg font-medium text-trend-gray-700 dark:text-trend-gray-300 mb-2"> </h3> <p class="text-trend-gray-500 dark:text-trend-gray-400 mb-4"> </p> <!></div>');function Ea($,u){let _=W(u,"title",8,"Something went wrong"),i=W(u,"message",8,"Please try again later."),h=W(u,"onRetry",8,null);var m=Da(),y=l(r(m),2),M=r(y,!0);a(y);var v=l(y,2),t=r(v,!0);a(v);var w=l(v,2);{var T=V=>{var g=Ca();qe("click",g,function(...o){var n;(n=h())==null||n.apply(this,o)}),c(V,g)};b(w,V=>{h()&&V(T)})}a(m),S(()=>{D(M,_()),D(t,i())}),c($,m)}var Ma=f('<p class="text-white/80 mt-1"> </p>'),Ta=f('<div class="rounded-xl p-6 mb-8 text-white"><div class="flex items-center gap-3 mb-2"><a class="text-white/80 hover:text-white transition-colors">&larr; Back</a></div> <h1 class="text-2xl font-bold"> </h1> <!></div>'),Aa=f('<div class="py-20"><!></div>'),Na=f('<div><div class="flex items-start gap-3"><svg class="w-5 h-5 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg> <div><p class="font-semibold"> </p> <p class="mt-1 text-sm opacity-90"> </p></div></div></div>'),Sa=f('<section class="mb-8"><div class="card border-l-4"><h2 class="font-semibold text-trend-gray-800 dark:text-trend-gray-100 mb-3"> </h2> <div class="prose-summary max-w-none"><!></div></div></section>'),ja=f('<span class="px-3 py-1.5 rounded-full text-sm font-medium"> </span>'),Ia=f('<section class="mb-8"><h2 class="font-semibold text-trend-gray-800 dark:text-trend-gray-100 mb-4">Key Themes</h2> <div class="flex flex-wrap gap-2"></div></section>'),La=f('<!> <!> <section><h2 class="font-semibold text-trend-gray-800 dark:text-trend-gray-100 mb-6"> </h2> <!></section>',1),Ra=f("<!> <!>",1),za=f('<section class="mb-12"><div class="card border-l-4 border-purple-500 dark:border-purple-400"><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-bold text-trend-gray-800 dark:text-trend-gray-100">Personal Summary</h2> <span class="text-xs text-trend-gray-400 dark:text-trend-gray-500">Based on your interests</span></div> <div class="prose-summary max-w-none"><!></div></div></section>'),Ba=f('<section class="mb-12"><h2 class="text-xl font-bold text-trend-gray-800 dark:text-trend-gray-100 mb-6">Top Topics Today</h2> <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3"></div></section>'),Pa=f('<section class="mb-12"><div class="flex items-center justify-between mb-6"><div class="flex items-center gap-3"><span class="w-3 h-3 rounded-full"></span> <h2 class="text-xl font-bold text-trend-gray-800 dark:text-trend-gray-100"> </h2> <span class="text-sm text-trend-gray-500"> </span></div> <a class="text-sm font-medium text-trend-red hover:text-guardian-red transition-colors">View All &rarr;</a></div> <!></section>'),Oa=f('<section class="mb-8"><!></section> <section class="mb-12"><div class="card border-l-4 border-trend-red dark:border-trend-red"><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-bold text-trend-gray-800 dark:text-trend-gray-100">Executive Summary</h2> <span class="text-sm text-trend-gray-500 dark:text-trend-gray-400"> </span></div> <div class="prose-summary max-w-none"><!></div></div></section> <!> <!> <!>',1),qa=f('<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!> <div class="mb-8"><!></div> <!></div>');function Ya($,u){Te(u,!1);const _=()=>Ce(gt,"$page",y),i=()=>Ce(zt,"$storeLoading",y),h=()=>Ce(Bt,"$availableDates",y),m=()=>Ce(Ge,"$currentDate",y),[y,M]=mt(),v=N(),t=N(),w=N(),T=N(),V=N(),g=N();let o=N(null),n=N(null),j=N(!1),I=N(null);const L=["news","research","social","reddit","jobs"];Ht(async()=>{if(typeof window>"u")return;const C=window.location.hash;C&&(await Tt(),setTimeout(()=>{const k=document.getElementById(C.slice(1));k&&k.scrollIntoView({behavior:"smooth",block:"start"})},150))});async function R(C){p(j,!0),p(I,null),p(n,null);try{p(o,await vt(C)),Ot(C)}catch(k){p(I,k instanceof Error?k.message:"Failed to load data"),p(o,null)}finally{p(j,!1)}}async function Y(C,k){p(j,!0),p(I,null),p(o,null);try{const[U,re]=await Promise.all([vt(C),Pt(C,k)]);p(o,U),p(n,re)}catch(U){p(I,U instanceof Error?U.message:"Failed to load data"),p(n,null)}finally{p(j,!1)}}function P(){e(v)&&e(w)&&(e(t)&&e(T)?Y(e(v),e(t)):R(e(v)))}function Q(C,k){if(k)return k;let U=C.replace(/^##\s*Executive Summary[^\n]*\n+/i,"");return U=U.split(/\n\n+/).map(re=>`<p class="mb-4 last:mb-0">${re.trim()}</p>`).join(""),U}A(()=>_(),()=>{p(v,_().url.searchParams.get("date"))}),A(()=>_(),()=>{p(t,_().url.searchParams.get("category"))}),A(()=>(e(v),dt),()=>{p(w,e(v)&&dt(e(v))!==null)}),A(()=>e(t),()=>{p(T,!e(t)||L.includes(e(t)))}),A(()=>(e(v),i(),h(),Ue),()=>{!e(v)&&!i()&&h().length>0&&Ue(`/?date=${h()[0]}`,{replaceState:!0})}),A(()=>(e(v),e(t),e(T),Ue),()=>{e(v)&&e(t)&&!e(T)&&Ue(`/?date=${e(v)}`,{replaceState:!0})}),A(()=>(e(v),e(w),m(),Ge),()=>{e(v)&&e(w)&&e(v)!==m()&&Ge.set(e(v))}),A(()=>(i(),e(j)),()=>{p(V,i()||e(j))}),A(()=>(e(v),e(w),e(t),e(T)),()=>{e(v)&&e(w)&&(e(t)&&e(T)?Y(e(v),e(t)):e(t)||R(e(v)))}),A(()=>(e(t),ie),()=>{p(g,e(t)?ie[e(t)]:null)}),A(()=>(e(V),e(o),e(n)),()=>{if(!e(V)&&(e(o)||e(n))&&typeof window<"u"){const C=window.location.hash;C&&setTimeout(()=>{const k=document.getElementById(C.slice(1));k&&k.scrollIntoView({behavior:"smooth",block:"start"})},150)}}),Ae(),Me();var E=qa();qt("1uha8ag",C=>{var k=$e(),U=te(k);{var re=X=>{At(()=>{it.title=`${e(g),s(()=>e(g).title)??""} - ${e(v)??""} | AATF AI News Aggregator(Spark Edition)`})},me=X=>{Nt(()=>{it.title="AATF AI News Aggregator(Spark Edition)"})};b(U,X=>{e(t)&&e(g)?X(re):X(me,!1)})}c(C,k)});var O=r(E);{var ae=C=>{var k=Ta(),U=r(k),re=r(U);a(U);var me=l(U,2),X=r(me,!0);a(me);var fe=l(me,2);{var Be=x=>{var F=Ma(),B=r(F);a(F),S(()=>D(B,`${e(n),s(()=>e(n).total_items)??""} items for ${e(v)??""}`)),c(x,F)};b(fe,x=>{e(n)&&x(Be)})}a(k),S(()=>{Ee(k,`background: linear-gradient(135deg, ${e(g),s(()=>e(g).color)??""} 0%, ${e(g),s(()=>e(g).color)??""}dd 100%)`),De(re,"href",`/?date=${e(v)??""}`),D(X,(e(g),s(()=>e(g).title)))}),c(C,k)};b(O,C=>{e(t)&&e(g)&&C(ae)})}var q=l(O,2),K=r(q);{let C=Le(()=>(e(o),s(()=>{var k;return(k=e(o))==null?void 0:k.coverage_date})));Kt(K,{get coverageDate(){return e(C)}})}a(q);var le=l(q,2);{var Se=C=>{var k=Aa(),U=r(k);Ft(U,{size:"lg"}),a(k),c(C,k)},je=C=>{var k=$e(),U=te(k);{var re=X=>{Ea(X,{title:"Failed to load data",get message(){return e(I)},onRetry:P})},me=X=>{var fe=$e(),Be=te(fe);{var x=B=>{var Z=Ra(),se=te(Z);{var ye=ee=>{var de=Na(),ne=r(de),be=l(r(ne),2),ve=r(be),Ie=r(ve,!0);a(ve);var we=l(ve,2),_e=r(we,!0);a(we),a(be),a(ne),a(de),S(()=>{xe(de,1,`mb-6 p-4 rounded-lg border-l-4 ${e(n),s(()=>e(n).notice.type==="info"?"bg-blue-50 border-blue-400 text-blue-800 dark:bg-blue-900/30 dark:border-blue-500 dark:text-blue-200":"bg-amber-50 border-amber-400 text-amber-800 dark:bg-amber-900/30 dark:border-amber-500 dark:text-amber-200")??""}`),D(Ie,(e(n),s(()=>e(n).notice.title))),D(_e,(e(n),s(()=>e(n).notice.message)))}),c(ee,de)};b(se,ee=>{e(n),s(()=>e(n).notice)&&ee(ye)})}var Pe=l(se,2);{var oe=ee=>{{let de=Le(()=>(e(g),s(()=>{var ne;return(ne=e(g))==null?void 0:ne.title.toLowerCase()})));et(ee,{get title(){return`No ${e(de)??""} found`},get message(){return`No items in this category for ${e(v)??""}.`}})}},ge=ee=>{var de=La(),ne=te(de);{var be=ue=>{var ce=Sa(),pe=r(ce),ke=r(pe),J=r(ke);a(ke);var z=l(ke,2),H=r(z);ze(H,()=>(e(n),s(()=>e(n).category_summary_html||e(n).category_summary))),a(z),a(pe),a(ce),S(()=>{Ee(pe,`border-left-color: ${e(g),s(()=>{var G;return(G=e(g))==null?void 0:G.color})??""}`),D(J,`${e(g),s(()=>{var G;return(G=e(g))==null?void 0:G.title})??""} Summary`)}),c(ue,ce)};b(ne,ue=>{e(n),s(()=>e(n).category_summary)&&ue(be)})}var ve=l(ne,2);{var Ie=ue=>{var ce=Ia(),pe=l(r(ce),2);Re(pe,5,()=>(e(n),s(()=>e(n).themes)),Fe,(ke,J)=>{var z=ja(),H=r(z);a(z),S(()=>{Ee(z,`background-color: ${e(g),s(()=>{var G;return(G=e(g))==null?void 0:G.color})??""}20; color: ${e(g),s(()=>{var G;return(G=e(g))==null?void 0:G.color})??""}`),D(H,`${e(J),s(()=>e(J).name)??""} (${e(J),s(()=>e(J).item_count)??""})`)}),c(ke,z)}),a(pe),a(ce),c(ue,ce)};b(ve,ue=>{e(n),s(()=>e(n).themes&&e(n).themes.length>0)&&ue(Ie)})}var we=l(ve,2),_e=r(we),Je=r(_e);a(_e);var Ve=l(_e,2);ct(Ve,{get items(){return e(n),s(()=>e(n).items)},get category(){return e(t)}}),a(we),S(()=>D(Je,`All Items (${e(n),s(()=>e(n).items.length)??""})`)),c(ee,de)};b(Pe,ee=>{e(n),s(()=>e(n).items.length===0)?ee(oe):ee(ge,!1)})}c(B,Z)},F=B=>{var Z=$e(),se=te(Z);{var ye=oe=>{var ge=Oa(),ee=te(ge),de=r(ee);{let J=Le(()=>(e(o),s(()=>e(o).hero_image_url||null))),z=Le(()=>(e(o),s(()=>{var H;return((H=e(o).collection_status)==null?void 0:H.overall)||"success"})));aa(de,{get date(){return e(o),s(()=>e(o).date)},get coverageDate(){return e(o),s(()=>e(o).coverage_date)},get totalItems(){return e(o),s(()=>e(o).total_items_analyzed)},get heroImageUrl(){return e(J)},get collectionStatus(){return e(z)}})}a(ee);var ne=l(ee,2),be=r(ne),ve=r(be),Ie=l(r(ve),2),we=r(Ie);a(Ie),a(ve);var _e=l(ve,2),Je=r(_e);ze(Je,()=>(e(o),s(()=>Q(e(o).executive_summary,e(o).executive_summary_html)))),a(_e),a(be),a(ne);var Ve=l(ne,2);{var ue=J=>{var z=za(),H=r(z),G=l(r(H),2),Oe=r(G);ze(Oe,()=>(e(o),s(()=>e(o).personal_summary_html||e(o).personal_summary))),a(G),a(H),a(z),c(J,z)};b(Ve,J=>{e(o),s(()=>e(o).personal_summary)&&J(ue)})}var ce=l(Ve,2);{var pe=J=>{var z=Ba(),H=l(r(z),2);Re(H,5,()=>(e(o),s(()=>e(o).top_topics)),Fe,(G,Oe)=>{da(G,{get topic(){return e(Oe)}})}),a(H),a(z),c(J,z)};b(ce,J=>{e(o),s(()=>e(o).top_topics&&e(o).top_topics.length>0)&&J(pe)})}var ke=l(ce,2);Re(ke,1,()=>L,Fe,(J,z)=>{const H=Le(()=>(e(o),e(z),s(()=>e(o).categories[e(z)])));var G=$e(),Oe=te(G);{var ut=Ke=>{var Ye=Pa(),Qe=r(Ye),Xe=r(Qe),tt=r(Xe),Ze=l(tt,2),ft=r(Ze,!0);a(Ze);var at=l(Ze,2),_t=r(at);a(at),a(Xe);var pt=l(Xe,2);a(Qe);var ht=l(Qe,2);ct(ht,{get items(){return d(e(H)),s(()=>e(H).top_items)},get category(){return e(z)},limit:5,get totalCount(){return d(e(H)),s(()=>e(H).count)}}),a(Ye),S(()=>{Ee(tt,`background-color: ${d(ie),e(z),s(()=>ie[e(z)].color)??""}`),D(ft,(d(ie),e(z),s(()=>ie[e(z)].title))),D(_t,`(${d(e(H)),s(()=>e(H).count)??""} items)`),De(pt,"href",`/?date=${m()??""}&category=${e(z)??""}`)}),c(Ke,Ye)};b(Oe,Ke=>{d(e(H)),s(()=>e(H)&&e(H).top_items.length>0)&&Ke(ut)})}c(J,G)}),S(()=>D(we,`${e(o),s(()=>e(o).total_items_analyzed)??""} items analyzed`)),c(oe,ge)},Pe=oe=>{et(oe,{title:"No data available",message:"Run the pipeline to generate news data."})};b(se,oe=>{e(o)?oe(ye):oe(Pe,!1)},!0)}c(B,Z)};b(Be,B=>{e(t)&&e(n)?B(x):B(F,!1)},!0)}c(X,fe)};b(U,X=>{e(I)?X(re):X(me,!1)},!0)}c(C,k)};b(le,C=>{e(V)?C(Se):C(je,!1)})}a(E),c($,E),Ne(),M()}export{Ya as component};
