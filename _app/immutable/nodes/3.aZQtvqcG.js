import"../chunks/Bzak7iHL.js";import{i as ae}from"../chunks/c8XV9bct.js";import{p as re,I as ue,J as O,K as l,L as _,j as G,M as fe,m as x,v as s,w as a,x as h,t as A,y as N,i as e,N as ee,o as v,s as se,O as T,u as B,P as $e,Q as H,e as Me,$ as je,R as Ne,n as Ce,T as Se,U as Fe}from"../chunks/DqPoIbAy.js";import{p as Y,i as J,s as te,a as he}from"../chunks/Ce2Bo9mn.js";import{s as Oe,p as ve,g as Te,a as Ae,b as ce,e as K,i as Q,c as ge,d as pe,f as Ee,h as Ie,t as Z,n as ze,l as Re,j as Ye,k as Ge,m as Le,C as Pe,o as qe}from"../chunks/CQBllvJ-.js";import{h as Be,L as He,E as Je}from"../chunks/BG_5h4v7.js";import{g as Ke}from"../chunks/BbZWnYZ2.js";const Qe=!0,ut=Object.freeze(Object.defineProperty({__proto__:null,prerender:Qe},Symbol.toStringTag,{value:"Module"}));var Ue=x('<span class="absolute bottom-1 left-1/2 -translate-x-1/2 w-1.5 h-1.5 rounded-full bg-trend-red"></span>'),We=x('<button><span class="relative z-10"> </span> <!></button>');function Ve(E,c){re(c,!1);const g=_();let $=Y(c,"day",8),C=Y(c,"inMonth",8),S=Y(c,"today",8),p=Y(c,"selected",8),b=Y(c,"available",8);const y=ue();function k(){b()&&y("click")}O(()=>G($()),()=>{l(g,$().getDate())}),fe(),ae();var u=We(),n=s(u),t=s(n,!0);a(n);var i=h(n,2);{var m=M=>{var w=Ue();v(M,w)};J(i,M=>{b()&&!p()&&M(m)})}a(u),A(()=>{u.disabled=!b(),Oe(u,1,`
		relative aspect-square p-1 rounded-lg text-sm transition-all
		${C()?"text-trend-gray-700 dark:text-trend-gray-300":"text-trend-gray-400 dark:text-trend-gray-600"}
		${b()?"cursor-pointer hover:bg-trend-red/10":"cursor-default"}
		${p()?"bg-trend-red text-white hover:bg-trend-red":""}
		${S()&&!p()?"ring-2 ring-trend-red ring-inset":""}
	`),N(t,e(g))}),ee("click",u,k),v(E,u),se()}var Xe=x('<div class="text-center text-xs font-medium text-trend-gray-500 dark:text-trend-gray-400 py-2"> </div>'),Ze=x('<div class="bg-white dark:bg-trend-gray-800 rounded-xl shadow-card p-4"><div class="flex items-center justify-between mb-4"><button class="p-2 rounded-lg hover:bg-trend-gray-100 dark:hover:bg-trend-gray-700 transition-colors" aria-label="Previous month"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path></svg></button> <h3 class="font-semibold text-trend-gray-800 dark:text-trend-gray-200"> </h3> <button class="p-2 rounded-lg hover:bg-trend-gray-100 dark:hover:bg-trend-gray-700 transition-colors" aria-label="Next month"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg></button></div> <div class="grid grid-cols-7 mb-2"></div> <div class="grid grid-cols-7 gap-1"></div> <div class="flex items-center justify-center gap-4 mt-4 pt-4 border-t border-trend-gray-200 dark:border-trend-gray-700 text-xs text-trend-gray-500"><div class="flex items-center gap-1.5"><span class="w-3 h-3 rounded-full bg-trend-red"></span> <span>Has data</span></div> <div class="flex items-center gap-1.5"><span class="w-3 h-3 rounded-full border-2 border-trend-red"></span> <span>Today</span></div></div></div>');function et(E,c){re(c,!1);const g=()=>te(Ee,"$currentDate",C),$=()=>te(Ie,"$hasDataForDate",C),[C,S]=he(),p=_(),b=_(),y=_(),k=_(),u=ue();let n=_(new Date().getFullYear()),t=_(new Date().getMonth());function i(){e(t)===0?(l(t,11),H(n,-1)):H(t,-1)}function m(){e(t)===11?(l(t,0),H(n)):H(t)}function M(o){const r=Z(o);e(k)(r)&&(ze(r),u("select",{date:r}))}O(()=>(g(),ve),()=>{if(g()){const o=ve(g());o&&(l(n,o.getFullYear()),l(t,o.getMonth()))}}),O(()=>(e(n),e(t)),()=>{l(p,Te(e(n),e(t)))}),O(()=>e(t),()=>{l(b,Ae(e(t)))}),O(()=>ce,()=>{l(y,ce())}),O(()=>$(),()=>{l(k,$())}),fe(),ae();var w=Ze(),j=s(w),L=s(j),I=h(L,2),U=s(I);a(I);var W=h(I,2);a(j);var f=h(j,2);K(f,5,()=>e(y),Q,(o,r)=>{var d=Xe(),D=s(d,!0);a(d),A(()=>N(D,e(r))),v(o,d)}),a(f);var F=h(f,2);K(F,5,()=>e(p),Q,(o,r)=>{const d=T(()=>(G(Z),e(r),B(()=>Z(e(r))))),D=T(()=>(G(ge),e(r),e(n),e(t),B(()=>ge(e(r),e(n),e(t))))),P=T(()=>(G(pe),e(r),B(()=>pe(e(r))))),z=T(()=>g()===e(d)),R=T(()=>(e(k),G(e(d)),B(()=>e(k)(e(d)))));Ve(o,{get day(){return e(r)},get inMonth(){return e(D)},get today(){return e(P)},get selected(){return e(z)},get available(){return e(R)},$$events:{click:()=>M(e(r))}})}),a(F),$e(2),a(w),A(()=>N(U,`${e(b)??""} ${e(n)??""}`)),ee("click",L,i),ee("click",W,m),v(E,w),se(),S()}var tt=x('<div class="py-20"><!></div>'),at=x('<span class="text-xs px-2 py-1 rounded-full bg-trend-gray-100 dark:bg-trend-gray-700 text-trend-gray-600 dark:text-trend-gray-400 border"> </span>'),rt=x('<a class="card block hover:border-trend-red transition-colors"><div class="flex items-center justify-between"><div><h3 class="font-medium text-trend-gray-800 dark:text-trend-gray-100"> </h3> <p class="text-sm text-trend-gray-500 mt-1"> </p></div> <div class="flex items-center gap-2"></div></div></a>'),st=x('<div class="max-h-[480px] overflow-y-auto pr-2"><div class="space-y-3"></div></div>'),nt=x('<div class="grid gap-8 lg:grid-cols-3"><div class="lg:col-span-1"><!></div> <div class="lg:col-span-2"><h2 class="font-semibold text-trend-gray-800 dark:text-trend-gray-100 mb-4"> </h2> <!></div></div>'),ot=x('<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><h1 class="text-2xl font-bold text-trend-gray-800 dark:text-trend-gray-100 mb-8">News Archive</h1> <!></div>');function ft(E,c){re(c,!1);const g=()=>te(Ye,"$availableDates",$),[$,C]=he();let S=_(null),p=_(!0);Re().then(t=>{l(S,t),l(p,!1)}).catch(()=>{l(p,!1)});function b(t){Ke(`/?date=${t.detail.date}`)}ae();var y=ot();Be("1d6nxft",t=>{Me(()=>{je.title="Archive | AI News Daily"})});var k=h(s(y),2);{var u=t=>{var i=tt(),m=s(i);He(m,{size:"lg"}),a(i),v(t,i)},n=t=>{var i=nt(),m=s(i),M=s(m);et(M,{$$events:{select:b}}),a(m);var w=h(m,2),j=s(w),L=s(j);a(j);var I=h(j,2);{var U=f=>{Je(f,{title:"No reports available",message:"Run the pipeline to generate news reports."})},W=f=>{var F=st(),o=s(F);K(o,5,()=>{var r;return((r=e(S))==null?void 0:r.dates)||[]},Q,(r,d)=>{var D=rt(),P=s(D),z=s(P),R=s(z),xe=s(R,!0);a(R);var ne=h(R,2),be=s(ne);a(ne),a(z);var oe=h(z,2);K(oe,5,()=>Object.entries(e(d).categories),Q,(V,me)=>{var de=Se(()=>Fe(e(me),2));let _e=()=>e(de)[0],ye=()=>e(de)[1];const le=T(()=>Pe[_e()]);var ie=Ne(),ke=Ce(ie);{var we=X=>{var q=at(),De=s(q,!0);a(q),A(()=>{qe(q,`border-color: ${e(le).color??""}`),N(De,ye().count)}),v(X,q)};J(ke,X=>{e(le)&&X(we)})}v(V,ie)}),a(oe),a(P),a(D),A(V=>{Le(D,"href",`/?date=${e(d).date??""}`),N(xe,V),N(be,`${e(d).total_items??""} items analyzed`)},[()=>Ge(e(d).date,"EEEE, MMMM d, yyyy")]),v(r,D)}),a(o),a(F),v(f,F)};J(I,f=>{g().length===0?f(U):f(W,!1)})}a(w),a(i),A(()=>N(L,`Available Reports (${g().length??""})`)),v(t,i)};J(k,t=>{e(p)?t(u):t(n,!1)})}a(y),v(E,y),se(),C()}export{ft as component,ut as universal};
